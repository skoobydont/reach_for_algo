(this["webpackJsonpreach-wallet"]=this["webpackJsonpreach-wallet"]||[]).push([[0],{228:function(e,t,n){},252:function(e,t){},254:function(e,t){},264:function(e,t){},266:function(e,t){},293:function(e,t){},295:function(e,t){},296:function(e,t){},301:function(e,t){},303:function(e,t){},309:function(e,t){},311:function(e,t){},330:function(e,t){},342:function(e,t){},345:function(e,t){},348:function(e,t,n){},361:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(16),o=n.n(r),i=(n(228),n(25)),l=n(10),s=n.n(l),u=n(17),d=n(13),j=n(212),b=n(15),v=n(87),h=n.n(v),O=(n(348),n(213)),p=n(420),f=n(418),x=n(421),E=n(2),A=function(e){var t=e.children,n=Object(f.a)("(prefers-color-scheme: dark)"),a=Object(O.a)({palette:{type:n?"dark":"light",background:{main:"#282c34"}}});return Object(E.jsxs)(p.a,{theme:a,children:[Object(E.jsx)(x.a,{}),t]})},_=n(423),g=n(424),T=n(363),m=n(107),R=n.n(m),S=n(207),P=n.n(S),N=n(451),I=n(454),y=n(428),C=n(425),L=Object(_.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},weIn:{display:"flex",flexDirection:"row",justifyContent:"space-between"},shouldLogIn:{display:"flex",flexDirection:"column",margin:"auto",paddingTop:e.spacing(1)},loggedIn:{color:"#242729"},loggedOut:{color:e.palette.text.secondary},home:{color:e.palette.text.secondary},input:{backgroundColor:e.palette.background.main,padding:e.spacing(1),marginBottom:e.spacing(1)},walletSelectionList:{display:"flex",flexDirection:"column"},walletSelectionButton:{marginBottom:e.spacing(1)}}})),k=function(e){for(var t=0,n=[];t<(null===e||void 0===e?void 0:e.length);)n.push(Object(E.jsx)(I.a,{value:e[t],children:e[t]})),t+=1;return n},w=function(e){var t=e.user,n=e.ledger,c=e.handleSelectLedgerChange,r=e.handleGetAccountInfo,o=e.handleSetAccount,i=Object(a.useState)(""),l=Object(d.a)(i,2),j=l[0],v=l[1],h=Object(a.useState)(null),O=Object(d.a)(h,2),p=O[0],f=O[1],x=L(),A=Object(b.f)(),_=function(){var e=Object(u.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(t),e.next=3,r(t);case 3:n=e.sent,o(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(u.a)(s.a.mark((function e(){var t,a,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=AlgoSigner)||void 0===t?void 0:t.connect();case 2:return e.next=4,null===(a=AlgoSigner)||void 0===a?void 0:a.accounts({ledger:n});case 4:c=e.sent,f(c);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsx)(g.a,{position:"static",className:x.root,children:null===t?Object(E.jsxs)("div",{className:x.shouldLogIn,children:[Object(E.jsx)(C.a,{children:"Choose Ledger"}),Object(E.jsx)(N.a,{label:"Ledger",title:"Ledger",onChange:c,value:n,className:x.input,children:k(["MainNet","TestNet","BetaNet"])}),Object(E.jsx)(C.a,{children:"Choose Wallet"}),Object(E.jsxs)("div",{className:"".concat(x.input," ").concat(x.walletSelectionList),children:[Object(E.jsxs)(y.a,{variant:"outlined",color:"primary",className:x.walletSelectionButton,disabled:void 0===AlgoSigner,onClick:m,children:["AlgoSigner",void 0===AlgoSigner?" not detected":""]}),Object(E.jsx)(y.a,{variant:"outlined",color:"primary",className:x.walletSelectionButton,children:"MyAlgo Connect"}),Object(E.jsx)(y.a,{variant:"outlined",color:"primary",disabled:!0,children:"Algorand Mobile Wallet? (TODO)"})]}),(null===p||void 0===p?void 0:p.length)>0?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(C.a,{children:"Available Wallets"}),Object(E.jsx)("div",{className:"".concat(x.input," ").concat(x.walletSelectionList),children:null===p||void 0===p?void 0:p.map((function(e,t){var n=e.address;return Object(E.jsx)(y.a,{variant:"outlined",color:n===j?"inherit":"primary",className:t!==(null===p||void 0===p?void 0:p.length)?x.walletSelectionButton:null,onClick:function(){return _(n)},children:n})}))})]}):null]}):Object(E.jsxs)("div",{className:x.weIn,children:[Object(E.jsxs)(T.a,{edge:"start","aria-label":"home",onClick:function(){return A.push("/reach_for_algo")},className:x.home,children:[Object(E.jsx)(R.a,{}),(null===n||void 0===n?void 0:n.length)>0?Object(E.jsx)(C.a,{children:n}):""]}),Object(E.jsx)(T.a,{"aria-label":"account of current user","aria-controls":"menu-appbar",className:null===t?x.loggedIn:x.loggedOut,"aria-haspopup":"true",onClick:function(){return A.push("/profile")},color:"inherit",children:Object(E.jsx)(P.a,{})})]})})},D=n(429),B=n(430),U=Object(_.a)((function(e){return{root:{display:"flex",flexDirection:"row",justifyContent:"start",marginTop:e.spacing(1)},icon:{maxWidth:e.spacing(5),marginBottom:e.spacing(1),marginLeft:e.spacing(-1)}}})),K=function(){var e=U(),t=Object(b.f)();return Object(E.jsx)(D.a,{className:e.root,children:Object(E.jsx)(B.a,{icon:Object(E.jsx)(R.a,{}),className:e.icon,onClick:function(){return null===t||void 0===t?void 0:t.replace("/reach_for_algo")}})})},M=n(434),W=n(84),G=n(208),V=n.n(G),F=n(432),Y=n(215),X=n(364),H=n(431),Q=n(433),J=n(435),q=n(453),z=n(452),Z=n(209),$=n.n(Z),ee=n(210),te=n.n(ee),ne=function(){var e=Object(u.a)(s.a.mark((function e(t,n){var a,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.status().do();case 2:a=e.sent["last-round"];case 3:return e.next=6,t.pendingTransactionInformation(n).do();case 6:if(!(null!==(c=e.sent)["confirmed-round"]&&c["confirmed-round"]>0)){e.next=9;break}return e.abrupt("return",c);case 9:return a+=1,e.next=12,t.statusAfterBlock(a).do();case 12:e.next=3;break;case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ae=function(){var e=Object(u.a)(s.a.mark((function e(t,n,a,c){var r,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=r=n,void 0,void 0,0,e.next=8,t.makeAssetTransferTxnWithSuggestedParams(r,o,undefined,undefined,0,void 0,null===c||void 0===c?void 0:c.index,a);case 8:return e.abrupt("return",e.sent);case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n,a,c){return e.apply(this,arguments)}}(),ce=function(e,t){switch(e){case"MainNet":return t.REACT_APP_MAINNET_PURESTAKE_API_KEY;case"TestNet":return t.REACT_APP_TESTNET_PURESTAKE_API_KEY;case"BetaNet":return t.REACT_APP_BETANET_PURESTAKE_API_KEY;default:return""}},re=Object(X.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center"},card:{maxWidth:e.spacing(50),minWidth:e.spacing(30)},cardActions:{display:"flex",flexDirection:"row",justifyContent:"space-between",padding:"0px ".concat(e.spacing(1),"px")},notSelectedWallet:{opacity:"75%"}}})),oe=function(e){e.assets;var t,n,c=e.algodClient,r=e.user,o=e.algosdk,l=e.handleUpdateAccountInfo,j=e.assetIdList,b=e.page,v=e.setPage,h=e.activeAssetId,O=e.setActiveAssetId,p=e.handleGetAssetInfo,f=re(),x=function(e){var t=e.handleAssetByAlgoSigner,n=e.handleAssetByMyAlgoConnect;return Object(E.jsxs)(H.a,{children:[Object(E.jsx)(C.a,{children:"Transaction Signing Methods:"}),Object(E.jsx)(y.a,{disabled:void 0===AlgoSigner||null===AlgoSigner,onClick:function(){return t()},variant:"contained",children:"AlgoSigner"}),Object(E.jsx)(y.a,{onClick:function(){return n()},variant:"contained",children:"My Algo Conect"})]})},A=Object(a.useState)(!1),_=Object(d.a)(A,2),g=_[0],m=_[1],R=Object(a.useState)(!1),S=Object(d.a)(R,2),P=S[0],N=S[1],I=Object(a.useState)(0),L=Object(d.a)(I,2),k=(L[0],L[1]),w=Object(a.useState)(""),D=Object(d.a)(w,2),B=(D[0],D[1]),U=Object(a.useState)(!1),K=Object(d.a)(U,2),G=K[0],X=K[1],Z=Object(a.useState)(!1),ee=Object(d.a)(Z,2),ce=ee[0],oe=ee[1],ie=Object(a.useState)(null),le=Object(d.a)(ie,2),se=le[0],ue=le[1],de=Object(a.useState)(null),je=Object(d.a)(de,2),be=je[0],ve=je[1],he=Object(a.useState)(null),Oe=Object(d.a)(he,2),pe=Oe[0],fe=Oe[1],xe=Object(a.useState)({userTotal:0,assetTotal:0}),Ee=Object(d.a)(xe,2),Ae=Ee[0],_e=Ee[1],ge=Object(a.useState)(!1),Te=Object(d.a)(ge,2),me=Te[0],Re=Te[1],Se=function(e,t){oe(Object(i.a)(Object(i.a)({},ce),{},Object(W.a)({},e,t)))},Pe=function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.getTransactionParams().do();case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!AlgoSigner){e.next=10;break}return e.next=3,AlgoSigner.connect();case 3:return e.next=5,AlgoSigner.accounts({ledger:"TestNet"});case 5:return t=e.sent,ue(t),e.abrupt("return",null);case 10:ue([{address:"AlgoSigner not detected"}]);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(u.a)(s.a.mark((function e(t,n){var a,i,u,d,j,b,v,h,O,p,f,x;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="AlgoSigner"===e.t0?3:"MyAlgoConnect"===e.t0?33:63;break;case 3:if(null!==be){e.next=6;break}return console.error("Please select valid wallet"),e.abrupt("return",null);case 6:return Se(null===n||void 0===n?void 0:n.index,!0),e.prev=7,e.next=10,Pe();case 10:return i=e.sent,u=ae(o,be,i,n),d=AlgoSigner.encoding.msgpackToBase64(u.toByte()),e.next=15,AlgoSigner.signTxn([{txn:d}]);case 15:return j=e.sent,e.next=18,AlgoSigner.send({ledger:"TestNet",tx:null===(a=j[0])||void 0===a?void 0:a.blob});case 18:return b=e.sent,e.next=21,ne(c,b.txId);case 21:return e.next=23,l(r.current.account.address);case 23:return e.abrupt("return",null);case 26:e.prev=26,e.t1=e.catch(7),console.error(e.t1);case 29:return e.prev=29,Se(null===n||void 0===n?void 0:n.index,!1),e.abrupt("return",null);case 33:return Se(null===n||void 0===n?void 0:n.index,!0),e.prev=34,O=new V.a({disableLedgerNano:!1}),e.next=38,O.connect({shouldSelectOneAccount:!1,openManager:!0});case 38:return e.next=40,Pe();case 40:return p=e.sent,e.next=43,ae(o,null===r||void 0===r||null===(v=r.account)||void 0===v?void 0:v.address,p,n);case 43:return f=e.sent,e.next=46,O.signTransaction(f.toByte());case 46:return x=e.sent,e.next=49,c.sendRawTransaction(x.blob).do();case 49:return e.next=51,ne(c,x.txID);case 51:return e.next=53,l(null===r||void 0===r||null===(h=r.account)||void 0===h?void 0:h.address);case 53:return e.abrupt("return",null);case 56:e.prev=56,e.t2=e.catch(34),console.error(e.t2);case 59:return e.prev=59,Se(null===n||void 0===n?void 0:n.index,!1),e.abrupt("return",null);case 63:return e.abrupt("return",null);case 64:case"end":return e.stop()}}),e,null,[[7,26,29,33],[34,56,59,63]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){fe(null),O(j[b-1])}),[h,j,b,O]),Object(a.useEffect)((function(){var e,t=function(){var e=Object(u.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(t);case 2:n=e.sent,fe(null===n||void 0===n?void 0:n.asset);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(null===(e=String(h))||void 0===e?void 0:e.length)>0&&t(h)}),[h,p]),Object(a.useEffect)((function(){null!==pe&&_e(function(e){var t,n,a,c,o={userTotal:0,assetTotal:null===e||void 0===e||null===(t=e.params)||void 0===t?void 0:t.total};if(Array.isArray(null===r||void 0===r||null===(n=r.account)||void 0===n?void 0:n.assets)&&(null===r||void 0===r||null===(a=r.account)||void 0===a||null===(c=a.assets)||void 0===c?void 0:c.length)>0)for(var i=0;i<(null===r||void 0===r||null===(l=r.account)||void 0===l||null===(s=l.assets)||void 0===s?void 0:s.length);){var l,s,u,d,j,b;if((null===r||void 0===r||null===(u=r.account)||void 0===u||null===(d=u.assets[i])||void 0===d?void 0:d["asset-id"])===(null===e||void 0===e?void 0:e.index)&&(null===r||void 0===r||null===(j=r.account)||void 0===j||null===(b=j.assets[i])||void 0===b?void 0:b.amount)>=0){var v,h;o.userTotal=+(null===r||void 0===r||null===(v=r.account)||void 0===v||null===(h=v.assets[i])||void 0===h?void 0:h.amount);break}i+=1}return o}(pe))}),[pe,null===r||void 0===r||null===(t=r.account)||void 0===t?void 0:t.assets]),Object(a.useEffect)((function(){var e;null!==pe&&Re(function(e,t){var n=!1;return Array.isArray(t)&&(null===t||void 0===t?void 0:t.length)>0&&(null===t||void 0===t||t.forEach((function(t){(null===t||void 0===t?void 0:t.amount)>=0&&(null===t||void 0===t?void 0:t["asset-id"])===e&&(n=!0)}))),n}(null===pe||void 0===pe?void 0:pe.index,null===r||void 0===r||null===(e=r.account)||void 0===e?void 0:e.assets))}),[pe,r]),Object(E.jsxs)("div",{className:f.root,children:[Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(F.a,{component:Y.a,className:f.card,children:[null!==pe?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(H.a,{children:[Object(E.jsx)(C.a,{children:"".concat(null===pe||void 0===pe||null===(n=pe.params)||void 0===n?void 0:n.name," (").concat(h,")")}),Object(E.jsx)(C.a,{children:"".concat(null===Ae||void 0===Ae?void 0:Ae.userTotal," / ").concat(null===Ae||void 0===Ae?void 0:Ae.assetTotal)})]}),Object(E.jsxs)(Q.a,{className:f.cardActions,children:[Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(T.a,{onClick:function(){return m(!g)},title:"Additional Information",children:g?Object(E.jsx)($.a,{}):Object(E.jsx)(te.a,{})})}),me?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(q.a,{type:"number",onChange:function(e){var t;return function(e){var t;+e.target.value<=(null===pe||void 0===pe||null===(t=pe.params)||void 0===t?void 0:t.total)&&k(+e.target.value)}(e,null===pe||void 0===pe||null===(t=pe.params)||void 0===t||t.total)}}),Object(E.jsx)(q.a,{placeholder:"Note (optional)",onChange:function(e){B(e.target.value)}}),Object(E.jsx)(y.a,{onClick:function(){return X(!G)},children:"Obtain Asset"})]}):Object(E.jsx)(y.a,{onClick:function(){return null===pe||void 0===pe||pe.index,N(!P)},children:"Opt-In"})]})]}):Object(E.jsx)(M.a,{}),Object(E.jsx)(J.a,{in:g,timeout:"auto",unmountOnExit:!0,className:f.card,children:Object(E.jsx)(H.a,{children:Object(E.jsxs)(C.a,{children:["Additional Info For Asset: ",null===pe||void 0===pe?void 0:pe.index]})})}),Object(E.jsx)(J.a,{in:P,timeout:"auto",unmountOnExit:!0,className:f.card,children:Object(E.jsx)(x,{handleAssetByAlgoSigner:function(){return Ne()},handleAssetByMyAlgoConnect:function(){return Ie("MyAlogConnect",pe)}})}),Object(E.jsx)(J.a,{in:G,timeout:"auto",unmountOnExit:!0,className:f.card,children:Object(E.jsx)(x,{})}),Object(E.jsx)(J.a,{in:null!==se&&(null===se||void 0===se?void 0:se.length)>0&&P,timeout:"auto",unmountOnExit:!0,className:f.card,children:null!==se&&(null===se||void 0===se?void 0:se.length)>0?Object(E.jsxs)(H.a,{children:[null===se||void 0===se?void 0:se.map((function(e,t){return Object(E.jsx)(y.a,{onClick:function(){return ve(null===e||void 0===e?void 0:e.address)},color:null!==be&&(null===e||void 0===e?void 0:e.address)===be?"primary":"inherit",variant:"contained",className:null!==be&&(null===e||void 0===e?void 0:e.address)===be?null:f.notSelectedWallet,children:null===e||void 0===e?void 0:e.address},t)})),null!==be?Object(E.jsx)(y.a,{onClick:function(){return Ie("AlgoSigner",pe)},children:"Confirm"}):null]}):null})]})}),Object(E.jsx)(z.a,{count:null===j||void 0===j?void 0:j.length,page:b,onChange:function(e,t){v(t)}})]})},ie=Object(_.a)((function(e){return{root:{display:"flex",flexDirection:"column",paddingTop:"8px",justifyContent:"center","& .MuiInputBase-root":{margin:"auto",maxWidth:e.spacing(35)}}}})),le=function(e){var t,n,c=ie(),r=e.user,o=e.handleGetAccountInfo,i=e.handleGetAssetInfo,l=(e.handleGetTransactionParams,e.algosdk),j=e.algodClient,b=e.handleSetAccount,v=e.ledger,h=(e.setLedger,Object(a.useRef)());console.log("the user?",r),console.log("assets?",null===h||void 0===h?void 0:h.current);var O=Object(a.useState)(!1),p=Object(d.a)(O,2),f=p[0],x=(p[1],Object(a.useState)("")),A=Object(d.a)(x,2),_=(A[0],A[1],Object(a.useState)(null===r||void 0===r||null===(t=r.account)||void 0===t||null===(n=t.assets)||void 0===n?void 0:n.map((function(e){return e["asset-id"]})))),g=Object(d.a)(_,2),T=g[0],m=(g[1],Object(a.useState)(1)),R=Object(d.a)(m,2),S=R[0],P=R[1],N=Object(a.useState)(""),I=Object(d.a)(N,2),y=I[0],L=I[1],k=function(){var e=Object(u.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(t);case 2:return n=e.sent,b(n),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return console.log("the assets: ",h),console.log("the ledger",v),f?Object(E.jsx)(M.a,{}):Object(E.jsxs)("div",{className:c.root,children:[Object(E.jsx)(C.a,{variant:"subtitle1",color:"primary",children:"Real Estate For The Digital Age"}),null===r||void 0===r?Object(E.jsx)(E.Fragment,{}):Object(E.jsx)("div",{children:Object(E.jsx)(oe,{assets:h.current,algodClient:j,user:r,algosdk:l,handleUpdateAccountInfo:k,handleGetAssetInfo:i,assetIdList:T,page:S,setPage:P,activeAssetId:y,setActiveAssetId:L})})]})},se=n(455),ue=n(436),de=n(437),je=n(440),be=n(438),ve=n(439),he=n(456),Oe=n(448),pe=n(449),fe=n(441),xe=n(442),Ee=n(444),Ae=n(446),_e=n(447),ge=n(443),Te=n(445),me=n(211),Re=n.n(me),Se=function(e){if(!e)return"";if((null===Object||void 0===Object?void 0:Object.keys(e))<1)return e;var t="";return Object.keys(e).map((function(n,a){var c;return t+="".concat((null===(c=e[n])||void 0===c?void 0:c.length)>0?a>0?", ".concat(e[n]):"".concat(e[n]):"")})),t},Pe=function(e){var t,n,a,c,r;return e?null===(t=String(e))||void 0===t||null===(n=t.split(""))||void 0===n||null===(a=n.reverse())||void 0===a||null===(c=a.map((function(e,t){return t%3===0&&0!==t?"".concat(e,","):e})))||void 0===c||null===(r=c.reverse())||void 0===r?void 0:r.join(""):e},Ne=function(e){return(e.substring(0,1).toUpperCase()+e.substring(1)).replace(/([A-Z])/g," $1")},Ie=Object(_.a)((function(e){return{root:{display:"flex",flexDirection:"column",paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},header:{display:"flex",flexDirection:"row",alignItems:"center","& button.MuiIconButton-root":{paddingLeft:e.spacing(0)}},top:{display:"flex",flexDirection:"row",justifyContent:"space-around"},deets:{display:"flex",flexDirection:"column"},deetHeader:{display:"flex",flexDirection:"row",alignItems:"baseline"},subheader:{width:"100%",backgroundColor:e.palette.primary.main,padding:e.spacing(1),marginTop:e.spacing(4),borderRadius:e.spacing(1),boxShadow:"0px 2px 6px #FFF"},topMobile:{display:"flex",flexDirection:"column"}}})),ye=function(){var e,t,n,c,r,o,i,l,s,u,j=Object(b.f)(),v=Ie(),h=Object(a.useState)(""),O=Object(d.a)(h,2),p=O[0],x=O[1],A=null===j||void 0===j||null===(e=j.location)||void 0===e||null===(t=e.state)||void 0===t?void 0:t.activeProperty,_=Object(f.a)("(max-width:415px)");return Object(E.jsxs)("div",{className:v.root,children:[Object(E.jsxs)("div",{className:v.header,children:[Object(E.jsx)(T.a,{onClick:function(){return j.goBack()},children:Object(E.jsx)(Re.a,{})}),Object(E.jsx)(C.a,{variant:"h6",component:"h2",style:{margin:"auto"},children:Se(null===j||void 0===j||null===(n=j.location)||void 0===n||null===(c=n.state)||void 0===c||null===(r=c.activeProperty)||void 0===r||null===(o=r.propertyInfo)||void 0===o?void 0:o.address)})]}),Object(E.jsxs)("div",{className:v.body,children:[Object(E.jsxs)("div",{className:_?v.mobileTop:v.top,children:[Object(E.jsx)("div",{className:v.imgs,children:(null===A||void 0===A?void 0:A.images)?Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("img",{src:"".concat("https://skoobydont.github.io","/").concat(null===A||void 0===A||null===(i=A.images)||void 0===i||null===(l=i[0])||void 0===l?void 0:l.path),alt:"".concat(Se(null===A||void 0===A?void 0:A.propertyInfo.address),"-pics")})}):null}),Object(E.jsx)("div",{className:v.deets,children:Object(E.jsxs)(ue.a,{size:"small",children:[Object(E.jsx)(de.a,{children:Object(E.jsxs)(be.a,{children:[Object(E.jsx)(ve.a,{children:Object(E.jsx)("b",{children:"Property Info"})}),Object(E.jsx)(ve.a,{children:Object(E.jsx)(se.a,{color:"occupied"===(null===A||void 0===A?void 0:A.propertyInfo.vacant)?"primary":"secondary",label:"occupied"===(null===A||void 0===A?void 0:A.propertyInfo.vacant)?"Occupied":"Vacant"})})]})}),Object(E.jsxs)(je.a,{children:[Object(E.jsxs)(be.a,{children:[Object(E.jsx)(ve.a,{children:Object(E.jsx)("b",{children:"Occupancy"})}),Object(E.jsx)(ve.a,{children:null===A||void 0===A?void 0:A.propertyInfo.vacant})]}),Object(E.jsxs)(be.a,{children:[Object(E.jsx)(ve.a,{children:Object(E.jsx)("b",{children:"Bath"})}),Object(E.jsx)(ve.a,{children:null===A||void 0===A?void 0:A.propertyInfo.bath})]}),Object(E.jsxs)(be.a,{children:[Object(E.jsx)(ve.a,{children:Object(E.jsx)("b",{children:"Bedroom(s)"})}),Object(E.jsx)(ve.a,{children:null===A||void 0===A?void 0:A.propertyInfo.bedrooms})]}),Object(E.jsxs)(be.a,{children:[Object(E.jsx)(ve.a,{children:Object(E.jsx)("b",{children:"Type"})}),Object(E.jsx)(ve.a,{children:null===A||void 0===A?void 0:A.propertyInfo.propertyType})]}),Object(E.jsxs)(be.a,{children:[Object(E.jsx)(ve.a,{children:Object(E.jsx)("b",{children:"Sqft"})}),Object(E.jsx)(ve.a,{children:null===A||void 0===A?void 0:A.propertyInfo.sqft})]}),Object(E.jsxs)(be.a,{children:[Object(E.jsx)(ve.a,{children:Object(E.jsx)("b",{children:"Year Built"})}),Object(E.jsx)(ve.a,{children:null===A||void 0===A?void 0:A.propertyInfo.yearBuilt})]})]})]})})]}),Object(E.jsxs)("div",{className:v.numbers,children:[Object(E.jsx)("h4",{className:v.subheader,children:"Quick Numbers"}),Object(E.jsx)(ue.a,{size:"small",children:Object(E.jsxs)(je.a,{children:[Object(E.jsxs)(be.a,{children:[Object(E.jsx)(ve.a,{noWrap:!0,children:Object(E.jsx)("b",{children:"Token Info"})}),Object(E.jsx)(ve.a,{children:Object(E.jsx)(se.a,{label:null===A||void 0===A?void 0:A.status,color:"sold out"!==(null===A||void 0===A?void 0:A.status)?"primary":"secondary"})}),Object(E.jsx)(ve.a,{colSpan:2,children:Object(E.jsx)("b",{children:"Investment Info"})})]}),Object(E.jsxs)(be.a,{children:[Object(E.jsx)(ve.a,{children:"# Sold"}),Object(E.jsx)(ve.a,{children:A.tokenInfo.totalSold}),Object(E.jsx)(ve.a,{children:"Total Investment"}),Object(E.jsx)(ve.a,{children:A.investmentInfo.totalInvestment})]}),Object(E.jsxs)(be.a,{children:[Object(E.jsx)(ve.a,{children:"# Available"}),Object(E.jsx)(ve.a,{children:A.tokenInfo.totalAvailable-A.tokenInfo.totalSold}),Object(E.jsx)(ve.a,{children:"$ / Token"}),Object(E.jsx)(ve.a,{children:"$".concat(+(A.investmentInfo.totalInvestment/A.investmentInfo.totalTokens).toFixed(2))})]})]})})]}),Object(E.jsxs)("div",{children:[Object(E.jsx)("h4",{className:v.subheader,children:"Project Timeline"}),Object(E.jsx)(fe.a,{children:Array.isArray(null===A||void 0===A?void 0:A.projectTimeline)?null===(s=A.projectTimeline)||void 0===s||null===(u=s.sort((function(e,t){return new Date(e.date)<new Date(t.date)})))||void 0===u?void 0:u.map((function(e,t){return Object(E.jsxs)(xe.a,{children:[Object(E.jsx)(ge.a,{style:{marginTop:"12px"},children:null===e||void 0===e?void 0:e.date}),Object(E.jsxs)(Ee.a,{style:{marginTop:"12px"},children:[Object(E.jsx)(Te.a,{color:0===t?"secondary":"primary"}),t!==A.projectTimeline.length-1?Object(E.jsx)(Ae.a,{}):null]}),Object(E.jsx)(_e.a,{children:Object(E.jsxs)(he.a,{square:!0,expanded:p===t,onChange:(n=t,function(e,t){return x(!!t&&n)}),children:[Object(E.jsx)(Oe.a,{children:Object(E.jsx)("b",{children:null===e||void 0===e?void 0:e.title})}),Object(E.jsx)(pe.a,{children:null===e||void 0===e?void 0:e.description})]})})]});var n})):null})]}),Object(E.jsxs)("div",{children:[Object(E.jsx)("h4",{className:v.subheader,children:"More Numbers"}),Object(E.jsx)(ue.a,{size:"small",children:(null===A||void 0===A?void 0:A.financialInfo)?Object.keys(A.financialInfo).map((function(e,t){return Object(E.jsx)(be.a,{children:t%2===0?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(ve.a,{children:Ne(Object.keys(A.financialInfo)[t+1])}),Object(E.jsx)(ve.a,{children:A.financialInfo[Object.keys(A.financialInfo)[t+1]]}),Object(E.jsx)(ve.a,{children:Ne(e)}),Object(E.jsx)(ve.a,{children:A.financialInfo[e]})]}):null})})):null})]})]})]})},Ce=n(450),Le=function(e){var t,n,c,r,o=e.account,i=e.handleSetAccount,l=(e.algosdk,e.handleGetAccountInfo),j=e.handleGetAssetInfo,b=(e.handleGetTransactionParams,Object(a.useState)(!1)),v=Object(d.a)(b,2),h=v[0],O=v[1],p=Object(a.useState)(null),f=Object(d.a)(p,2),x=f[0],A=f[1],_=Object(a.useState)(""),g=Object(d.a)(_,2),T=g[0],m=g[1],R=function(){var e=Object(u.a)(s.a.mark((function e(t){var n,a,c,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t);case 2:if("object"!==typeof(n=e.sent)||!Object.keys(n).includes("account")){e.next=12;break}return c=[],Array.isArray(null===(a=n.account)||void 0===a?void 0:a.assets)&&n.account.assets.forEach((function(e){c.push(j(e["asset-id"]))})),console.log("asset info res",c),e.next=9,Promise.all(c);case 9:r=e.sent,console.log("asset info res after promise all",r),Array.isArray(r)&&(null===r||void 0===r?void 0:r.length)>0&&A(r);case 12:return O(!0),e.abrupt("return",n);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(u.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===t||void 0===t||t.preventDefault(),e.next=3,R(T);case 3:n=e.sent,console.log("handle submit wallet info: ",n),i(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){O(!0),A(null),i(void 0)};return console.log("account",o),console.log("the assets",x),Object(a.useEffect)((function(){h&&O(!1)}),[h]),Object(a.useEffect)((function(){var e;null===x&&void 0!==(null===o||void 0===o?void 0:o.account)&&R(null===o||void 0===o||null===(e=o.account)||void 0===e?void 0:e.address)}),[x]),Object(E.jsx)("div",{children:Object(E.jsxs)(E.Fragment,{children:[h?Object(E.jsx)(M.a,{}):void 0!==o?(null===Object||void 0===Object||null===(t=Object.keys(o))||void 0===t?void 0:t.includes("account"))?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(C.a,{children:["My Account: ",null===o||void 0===o||null===(n=o.account)||void 0===n?void 0:n.address]}),Object(E.jsxs)(C.a,{children:[Pe(null===(c=o.account)||void 0===c?void 0:c.amount)," microAlgos"]}),Object(E.jsx)(y.a,{onClick:P,children:"Sign Out"})]}):(null===(r=Object.keys(o))||void 0===r?void 0:r.includes("message"))?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(C.a,{children:null===o||void 0===o?void 0:o.message}),Object(E.jsx)(y.a,{onClick:P,children:"Sign Out"})]}):null:Object(E.jsxs)("form",{onSubmit:S,children:[Object(E.jsx)(C.a,{children:"Login With Wallet Address"}),Object(E.jsx)(q.a,{value:T,onChange:function(e){return m(e.target.value)}}),Object(E.jsx)(y.a,{type:"submit",children:"Submit"})]}),Array.isArray(x)&&(null===x||void 0===x?void 0:x.length)>0?Object(E.jsxs)("div",{children:[Object(E.jsx)(C.a,{children:"My Assets"}),Object(E.jsx)(Ce.a,{}),null===x||void 0===x?void 0:x.map((function(e,t){var n,a=e.asset;return Object(E.jsx)("div",{children:Object(E.jsx)(C.a,{children:null===a||void 0===a||null===(n=a.params)||void 0===n?void 0:n.name})},t)}))]}):null]})})},ke=function(){return Object(E.jsx)("div",{children:"Account Page"})},we=function(){var e=Object(a.useState)(null),t=Object(d.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),o=Object(d.a)(r,2),l=o[0],v=o[1],O=Object(a.useState)(""),p=Object(d.a)(O,2),f=p[0],x=p[1],_=Object(a.useState)(""),g=Object(d.a)(_,2),T=g[0],m=g[1],R=Object(a.useState)({"X-API-KEY":""}),S=Object(d.a)(R,2),P=S[0],N=S[1],I=Object(a.useState)(null),y=Object(d.a)(I,2),C=y[0],L=y[1],k=Object(a.useState)(null),D=Object(d.a)(k,2),B=D[0],U=D[1];Object(a.useEffect)((function(){var e;(null===l||void 0===l?void 0:l.length)>0&&(0===(null===f||void 0===f?void 0:f.length)&&x(function(e,t){switch(console.log("get the algo server for ledger: ".concat(e," | env: ").concat(t.REACT_APP_TESTNET_ALGOD_SERVER_URL)),e){case"MainNet":return t.REACT_APP_MAINNET_ALGOD_SERVER_URL;case"TestNet":return t.REACT_APP_TESTNET_ALGOD_SERVER_URL;case"BetaNet":return t.REACT_APP_BETANET_ALGOD_SERVER_URL;default:return""}}(l,Object({NODE_ENV:"production",PUBLIC_URL:"/reach_for_algo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BASE_WALLET_ADDRESS:"HZWVNE3WEJT6PL7RKQSR6LTEYGDVI77DTYAPB4KGXMCGY6KL6TEMIRAJ2Y",REACT_APP_BASE_WALLET_MNEMONIC:"before giant coffee never lawsuit jeans pupil page video ethics dust lizard wheat blush dune inform depth such parent afford nephew medal floor abstract board",REACT_APP_BETANET_ALGOD_SERVER_URL:"",REACT_APP_BETANET_INDEXER_SERVER_URL:"",REACT_APP_BETANET_PURESTAKE_API_KEY:"",REACT_APP_MAINNET_ALGOD_SERVER_URL:"",REACT_APP_MAINNET_INDEXER_SERVER_URL:"",REACT_APP_MAINNET_PURESTAKE_API_KEY:"",REACT_APP_TESTNET_ALGOD_SERVER_URL:"https://testnet-algorand.api.purestake.io/ps2",REACT_APP_TESTNET_INDEXER_SERVER_URL:"https://testnet-algorand.api.purestake.io/idx2",REACT_APP_TESTNET_PURESTAKE_API_KEY:"eUQqN5FseH3116Rhjul5V4IWf4BtQne7aicLsNjQ",REACT_APP_URL_BASE:"https://skoobydont.github.io",REACT_APP_WP_BASE_URL:"https://modeldeep.com/wp-json/wp/v2"}))),0===(null===T||void 0===T?void 0:T.length)&&m(function(e,t){switch(e){case"MainNet":return t.REACT_APP_MAINNET_INDEXER_SERVER_URL;case"TestNet":return t.REACT_APP_TESTNET_INDEXER_SERVER_URL;case"BetaNet":return t.REACT_APP_BETANET_INDEXER_SERVER_URL;default:return""}}(l,Object({NODE_ENV:"production",PUBLIC_URL:"/reach_for_algo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BASE_WALLET_ADDRESS:"HZWVNE3WEJT6PL7RKQSR6LTEYGDVI77DTYAPB4KGXMCGY6KL6TEMIRAJ2Y",REACT_APP_BASE_WALLET_MNEMONIC:"before giant coffee never lawsuit jeans pupil page video ethics dust lizard wheat blush dune inform depth such parent afford nephew medal floor abstract board",REACT_APP_BETANET_ALGOD_SERVER_URL:"",REACT_APP_BETANET_INDEXER_SERVER_URL:"",REACT_APP_BETANET_PURESTAKE_API_KEY:"",REACT_APP_MAINNET_ALGOD_SERVER_URL:"",REACT_APP_MAINNET_INDEXER_SERVER_URL:"",REACT_APP_MAINNET_PURESTAKE_API_KEY:"",REACT_APP_TESTNET_ALGOD_SERVER_URL:"https://testnet-algorand.api.purestake.io/ps2",REACT_APP_TESTNET_INDEXER_SERVER_URL:"https://testnet-algorand.api.purestake.io/idx2",REACT_APP_TESTNET_PURESTAKE_API_KEY:"eUQqN5FseH3116Rhjul5V4IWf4BtQne7aicLsNjQ",REACT_APP_URL_BASE:"https://skoobydont.github.io",REACT_APP_WP_BASE_URL:"https://modeldeep.com/wp-json/wp/v2"}))),0===(null===(e=P["X-API-KEY"])||void 0===e?void 0:e.length)&&N({"X-API-KEY":ce(l,Object({NODE_ENV:"production",PUBLIC_URL:"/reach_for_algo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BASE_WALLET_ADDRESS:"HZWVNE3WEJT6PL7RKQSR6LTEYGDVI77DTYAPB4KGXMCGY6KL6TEMIRAJ2Y",REACT_APP_BASE_WALLET_MNEMONIC:"before giant coffee never lawsuit jeans pupil page video ethics dust lizard wheat blush dune inform depth such parent afford nephew medal floor abstract board",REACT_APP_BETANET_ALGOD_SERVER_URL:"",REACT_APP_BETANET_INDEXER_SERVER_URL:"",REACT_APP_BETANET_PURESTAKE_API_KEY:"",REACT_APP_MAINNET_ALGOD_SERVER_URL:"",REACT_APP_MAINNET_INDEXER_SERVER_URL:"",REACT_APP_MAINNET_PURESTAKE_API_KEY:"",REACT_APP_TESTNET_ALGOD_SERVER_URL:"https://testnet-algorand.api.purestake.io/ps2",REACT_APP_TESTNET_INDEXER_SERVER_URL:"https://testnet-algorand.api.purestake.io/idx2",REACT_APP_TESTNET_PURESTAKE_API_KEY:"eUQqN5FseH3116Rhjul5V4IWf4BtQne7aicLsNjQ",REACT_APP_URL_BASE:"https://skoobydont.github.io",REACT_APP_WP_BASE_URL:"https://modeldeep.com/wp-json/wp/v2"}))}))}),[l,f,T,P]),Object(a.useEffect)((function(){var e,t;(null===C||void 0===C)&&(null===(e=String(f))||void 0===e?void 0:e.length)>0&&L(new h.a.Algodv2(P,f,"")),(null===B||void 0===B)&&(null===(t=String(T))||void 0===t?void 0:t.length)>0&&U(new h.a.Indexer(P,T,""))}),[C,f,B,T,P]);var M=function(e){return c(e)},W=function(){var e=Object(u.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.lookupAssetByID(t).do();case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(u.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.lookupAccountByID(t).do();case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.getTransactionParams().do();case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(E.jsx)(A,{children:Object(E.jsxs)(j.a,{children:[Object(E.jsx)(w,{user:n,ledger:l,handleSelectLedgerChange:function(e){v(e.target.value)},handleGetAccountInfo:G,handleSetAccount:M,algodClient:C,indexerClient:B}),null!==n?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{className:"App container-fluid",children:Object(E.jsxs)(b.c,{children:[Object(E.jsx)(b.a,{path:"/profile",exact:!0,render:function(e){return Object(E.jsx)(Le,Object(i.a)(Object(i.a)({},e),{},{account:n,handleSetAccount:M,handleGetAccountInfo:G,handleGetAssetInfo:W,handleGetTransactionParams:V,algosdk:h.a}))}}),Object(E.jsx)(b.a,{path:"/account",exact:!0,render:function(e){return Object(E.jsx)(ke,Object(i.a)(Object(i.a)({},e),{},{user:n}))}}),Object(E.jsx)(b.a,{path:"/property/:id",exact:!0,render:function(e){return Object(E.jsx)(ye,Object(i.a)(Object(i.a)({},e),{},{user:n}))}}),Object(E.jsx)(b.a,{path:"/reach_for_algo",exact:!0,render:function(e){return Object(E.jsx)(le,Object(i.a)(Object(i.a)({},e),{},{user:n,handleGetAccountInfo:G,handleGetAssetInfo:W,handleGetTransactionParams:V,algosdk:h.a,algodClient:C,handleSetAccount:M,ledger:l,setLedger:v}))}})]})}),Object(E.jsx)(K,{})]}):null]})})},De=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,458)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),r(e),o(e)}))};o.a.render(Object(E.jsx)(c.a.StrictMode,{children:Object(E.jsx)(we,{})}),document.getElementById("root")),De()}},[[361,1,2]]]);
//# sourceMappingURL=main.9ac61c5e.chunk.js.map